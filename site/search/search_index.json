{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Introduction","text":"<p>This guide was originally conceived by @k4kfh. However, neither this guide nor the original ZephyrCab project would have been possible without the generous help and support of:</p> <ul> <li>Mr. Bruce Kingsley and:<ul> <li>His Ultimate DCC Throttle project</li> <li>The many hours he's spent kindly teaching me via email</li> </ul> </li> <li>Mr. Al Krug<ul> <li>His excellent paper, \"Freight Train Air Brakes of North America\"<ul> <li>Note: Mr. Krug's site has gone offline since I initially found it. However, since it was so useful, I preserved a copy of it here, courtesy of the Internet Archive. All of the links originally leading to <code>alkrug.vcn.com</code> have been edited to link to my copy. All credit still goes to Al Krug.</li> </ul> </li> <li>His library of useful facts, charts, and locomotive specifications</li> <li>His generous email help</li> </ul> </li> </ul>"},{"location":"#navigating-the-guide","title":"Navigating The Guide","text":"<p>The guide is organized to be readable from beginning to end, useful for those with little or no railroad knowledge. However, feel free to jump in at any point, or pick out the information you need using the search bar above!</p> <p>Tip</p> <p>If you're just searching for \"numbers,\" such as reservoir dimensions or a mystery friction coefficient, you can find most of these values at the end of the guide, on the \"Valuable Values\" page.</p>"},{"location":"#authors-note","title":"Author's Note","text":"<p>I begin writing this in June 2016, after working on ZephyrCab for over a year. When I started ZephyrCab, I was not only new to JavaScript development, I was new to railroad physics. In a way, I was new to railroads. I knew some history, and I knew a bit of what made them tick, but I did not have any knowledge of how to drive a train, or the science at work on the railroad. In writing ZephyrCab, I spent days at a time reading about physics. I started with the classic <code>f=ma</code> and worked my way up from there. During this research and learning, I found myself battling a recurring problem: there simply isn't enough good literature on these problems. There are a few articles here and there, but the complete mathematical backend of a train simulator was, for the most part, closed-source and kept secret.</p> <p>After spending over a year slowly piecing together the information I needed, with help from two men who generously gave time and expertise to teach me, I have inched forward in the development of ZephyrCab. I've learned a lot in this time, and as beneficial to me as the search for information has been, I don't want every person who's curious about the inner workings of trains to find themselves in my position. My goal in writing The Idiot's Guide to Railroad Physics is to make this specialized, hard-to-find information available to all.</p> <p>With that in mind, I have included two types of content in this guide: concepts and numbers. What do I mean \"numbers,\" you ask? For every hour I spent searching for a formula or other form of conceptual knowledge on railroading, I spent at least 30 minutes searching for the actual numbers to use with these formulas. Wheel diameters, pipe lengths, friction coefficients, reservoir volumes, air compressor flow rates; the list goes on. Some of this information can be found in locomotive data sheets, but some of it required much more digging than that. Therefore, in addition to information on how these things work, I felt it necessary to include the \"actual numbers\" to make these concepts function in practice.</p> <p>I hope you enjoy this guide! If you'd like to contribute, please visit the GitHub project, k4kfh/idiotsGuideToRailroadPhysics.</p> <p>Happy railroading!</p>"},{"location":"HorsepowerAndTractiveEffort/","title":"Horsepower and Tractive Effort","text":""},{"location":"HorsepowerAndTractiveEffort/#introduction-to-simulation-physics","title":"Introduction to Simulation Physics","text":"<p>The backbone of train simulation physics is the simple equation, F=MA (Force = Mass x Acceleration). Acceleration is a measure of how quickly you are gaining or losing speed. Read more on accceleration here.</p> <p>We want to find the acceleration of the train, and we can use algebra to rearrange F=MA, making it Acceleration = Force/Mass. So to find the acceleration (and thus the speed) we need to know the force acting on the train and  the mass of the train. The mass is easy to find. The force...not so much.</p> <p>Not familiar with F=MA?</p> <p>If you are not already familiar with the basics of F=MA, please read more on that here. There are some excellent practice problems to get you comfortable with Newton's second law on that page as well.</p>"},{"location":"HorsepowerAndTractiveEffort/#horsepower","title":"Horsepower","text":"<p>Horsepower is an interesting concept. We know that the F7-A has a 1500HP motor, but what can we do with that number?</p> <p>One Horsepower is equal to 550 foot-pounds per second. This means that one horsepower could lift 550 pounds by 1 foot in 1 second. This can also be represented as approximately 745.7 watts.</p> <p>Important Concept: On a diesel locomotive, you are not always outputting the maximum horsepower. It is roughly proportional to throttle position, so we can estimate the output horsepower like this:</p> <pre><code>Output Horsepower = (Throttle Position/8) * Maximum\n</code></pre> <p>So for an F7 with the throttle in RUN1, the math would look like this:</p> <pre><code>187.5 HP = (1/8) * 1500HP\n</code></pre> <p>And it looks like, from this, we could convert horsepower to foot-lbs and be all done, right? <code>187.5 * 550 = 10,3125 foot-pounds per second</code>, right?</p> <p>No, not exactly.</p> <p>Because of the complex machinery generating this force, the output force at the wheels is not linearly proportional to the throttle position. We'll cover more on this later, but it has to do with the properties of electric motors (such as our traction motors), and specifically Back-EMF.</p>"},{"location":"HorsepowerAndTractiveEffort/#what-is-tractive-effort","title":"What is Tractive Effort?","text":"<p>On a locomotive, the linear output force (how hard it pulls) is called tractive effort. Because of how Back-EMF affects electric motors, the faster a motor spins, the less current it draws, and consequently, the less force it outputs. The specifics behind this decline in tractive effort get very complex, but the principle is simple:</p> <p>The higher your speed, the lower your locomotive's tractive effort.</p> <p>This decline is not linear; it happens in an exponential curve.</p> <p>With this in mind, there are two places we can get tractive effort:</p> <ul> <li>Starting Tractive Effort, found in the locomotive data sheet, is the rated tractive effort starting from a standstill in RUN8. On the F7, this is 56,500lbs.</li> <li>The Tractive Effort estimation formula, which I found in a paper from Virginia Tech University.</li> </ul>"},{"location":"HorsepowerAndTractiveEffort/#tractive-effort-estimation-formula","title":"Tractive Effort Estimation Formula","text":"<p>I do not take credit for this excellent formula. I found it in a paper by Virginia Tech on Rail Resistance Equations. It is located on page 11.</p> <p> </p> <ul> <li> <p>T is Tractive Effort, in Newtons.</p> </li> <li> <p>P is Horsepower. Remember, the output horsepower, not the maximum horsepower!</p> </li> <li> <p>V is the velocity (aka speed) in km/hr.</p> </li> <li> <p>n is the locomotive's efficiency in converting power output to tractive effort. For the F7, I found ~0.72 is best.</p> </li> </ul> <p>You might wonder...how accurate is this?</p> <p>For the F7, within 0.75%.</p> <p>The other way that you could find tractive effort, of course, is by using a table of measured values, however these are hard to find for many locomotives. I tested this equation against a known table of values for the EMD F7, and by tuning the efficiency coefficient (n) I was able to get an average percent error of 0.33%. I deemed this acceptable, so this guide will be using this formula for tractive effort unless a better method comes along.</p>"},{"location":"HorsepowerAndTractiveEffort/#how-do-i-use-this-formula","title":"How do I use this formula?","text":"<p>1. Find your locomotive's starting tractive effort. This is available in most locomotive data sheets. For the F7, this is 56,500lbs.</p> <p>2. Find a \"Continuous Tractive Effort\" rating for your locomotive. You may find multiple ratings for a variety of different speeds. Pick one. For the F7, the data sheet says 40,000 lbs @ 9.3 mph.</p> <p>3. Convert that rating to metric units. This converts to 177928.86 Newtons @ 14.9669 km/hr.</p> <p>4. Input this speed into the formula, using your maximum horsepower as P. Use 0.85 for your efficiency coefficient. For the F7, that looks like this:  When we work that out, T = 225748.1509 Newtons. 5. Convert your calculated tractive effort value to pounds. I'm lazy, so I use Google's built-in converter. 225748.1509 Newtons converts to about 50,750 lbs.</p> <p>6. Compare this calculated value to the measured value from your data sheet. In my case, I calculated 50,750lbs, but the measured value is 40,000lbs. So this means my efficiency coefficient of 0.85 was too high. The locomotive is not 85% efficient, it is less than that. We can tell because we got 10,750lbs more tractive effort than we should have.</p> <p>7. Tune your efficiency coefficient. This will take some fiddling, so I highly recommend creating a spreadsheet to do the math for you. If your calculated value was too high, lower your efficiency coefficient. If your calculated value was too low, raise your efficiency coefficient. For the F7, I found that the optimal efficiency is 72%, which sets the efficiency coefficient at 0.72.</p> <p>8. Double check your work. If we work the same math with the new 0.72 efficiency, we get this:  Convert 191221.9631 Newtons to pounds and we are left with about 42,988lbs. This is much closer to the rated value of 40,000lbs, so this coefficient works.</p> <p>9. Test the coefficient with other speeds. You might be able to find another rating for your locomotive (at a different speed). Test the same coefficient at that speed, and see how close you are. This is where a spreadsheet can come in handy, because you can adjust the efficiency coefficient and see instantly how it affects your tractive effort values. I have created an example spreadsheet on Google Docs, which is available here. You can also make your own spreadsheet, and I have included a tractive effort table for the F7 at the bottom of the page.</p> <p>10. Find the speed where the equation returns a lower value than your starting tractive effort. For the first 5-10 miles per hour, you need to just use the starting tractive effort and ignore the equation. The speed where the equation matches the starting tractive effort is the speed where you start using the equation. For the F7, this is 8.9mph, but if you're using another locomotive you'll have to find it.</p> <p>Once you've found the speed where the equation starts, as well as tuned the efficiency coefficient to match the measured values, you can use the equation to find the tractive effort for any throttle position, not just the max horsepower output (RUN8).</p>"},{"location":"HorsepowerAndTractiveEffort/#examples","title":"Examples","text":"<p>1. An F7 is moving at 10.2mph, and is in RUN2. Find the tractive effort.</p> <p>10.2mph = 16.41531km/hr</p> <p>1500HP * 2/8 will be our horsepower. The 2/8 is because we're in RUN2 out of 8.</p> <p> </p> <p>So T equals approximately 39,193lbs.</p> <p>2. An F7 is moving at 40mph, and is in RUN6. Find the tractive effort.</p> <p>40mph = 64.3738 km/hr</p> <p>1500HP * 6/8 = 1125HP</p> <p> </p> <p>So T equals approximately 7,496lbs.</p> <p>See how much tractive effort you lose with speed?</p>"},{"location":"HorsepowerAndTractiveEffort/#f7-tractive-effort-table","title":"F7 Tractive Effort Table","text":"Speed Tractive Effort 0 (Starting) through 8.8mph 56,500lbs 8.9mph 45,000lbs 13.4mph 30,000lbs 15mph 26,786lbs 25mph 16,035lbs 30mph 13,363lbs 40mph 10,021lbs 60mph 6,681lbs <p>That's all for this chapter. In the next chapter, we'll discuss a few quirks to the tractive effort formula, and some other forces that act on a train.</p>"},{"location":"OtherLocomotiveForces/","title":"Other Locomotive Forces","text":""},{"location":"OtherLocomotiveForces/#traction-motor-quirks","title":"Traction Motor Quirks","text":"<p>In the last chapter we discussed the equation for approximating tractive effort:</p> <p> </p> <p>While this equation does an excellent job, there are other quirks that the locomotive traction motors have that it doesn't take into account.</p>"},{"location":"OtherLocomotiveForces/#quirk-1-speed-limit","title":"Quirk #1 - Speed Limit","text":"<p>Traction motors have a finite speed limit for a given voltage (which is directly controlled by the throttle notch). While the tractive effort formula above will give (decreasing) force constantly as speed increases, eventually the electric motors reach the maximum RPM for a given voltage. So for example, an F7 in RUN8 typically has a maximum speed of around 60mph. This is similar to a car; at a given throttle (gas pedal) level, without shifting gears, there is only so fast your engine can turn, and thus there is only so fast your car can move. Traction motors have a similar property, it's just related to the voltage of the electricity used to run them (which is from the generator turned by the prime mover) rather than mechanical limits of a combustion engine.</p>"},{"location":"OtherLocomotiveForces/#quirk-2-gear-ratio","title":"Quirk #2 - Gear Ratio","text":"<p>Okay, I didn't tell you the whole story in the last paragraph. Traction motors do have a finite RPM limit, but the resulting speed limit for the locomotive is also dependent on the gear ratio. The typical gear ratio for an EMD F7 is 62:15, meaning the axle gear has 62 teeth and the motor gear has 15 teeth. But there were other gear ratios sold by EMD, to offer more speed at the cost of power, or more power at the cost of speed. This has to do with gear reduction, and it will affect the maximum speed at a given notch.</p>"},{"location":"OtherLocomotiveForces/#math-for-the-quirks","title":"Math for the Quirks","text":"<p>Maximum speed for a given gear ratio, in my experience, is just something you have to look up. Finding a data sheet, like this one for the F7, will often tell you. If you can't find it there, try to find a PDF of the locomotive's manual, like this, also for the F7.</p> <p>Once you have the maximum maximum speed, you can approximate the maximum speed for a given notch with some simple multiplication.</p> <pre><code>MaxSpeed = Absolute Max Speed * (Current Notch / 8)\n</code></pre> <p>So an example for an F7 in RUN3 would be:</p> <pre><code>MaxSpeed = 65mph * (3 / 8)\n         = 24.375mph\n</code></pre> <p>There are probably more accurate methods for this, but simple multiplication will get the job done. If you're really adventurous, you could use an RPM table for different throttle positions on a given prime mover, and do some math with that. But that's more advanced than I'll get into here.</p>"},{"location":"OtherLocomotiveForces/#rolling-resistance","title":"Rolling Resistance","text":"<p>All rolling objects have a natural resistance to rolling. This is called (uncreatively) rolling resistance.</p> <p>Rolling resistance is constant, so it's very simple to calculate:</p> <pre><code>Rolling Resistance = (Coefficient of Rolling Resistance) * (Weight of the Object)\n</code></pre> <p>|Common Coefficients of Rolling Resistance | |---------------|--------------------------------------| | 0.001 - 0.002 | railroad steel wheels on steel rails | | 0.001         | bicycle tire on wooden track         | | 0.004         | bicycle tire on asphalt road         | | 0.02          | car tires on asphalt                 | | 0.04 - 0.08   | car tires on loose gravel            |</p> <p>If you're dealing with American trains, chances are you already have the locomotive's weight (in pounds). If you happen to be working in SI units (grams) then you can convert to Newtons (the SI unit of force) by multiplying your object's mass by 9.8 m/sec^2, the acceleration of Earth's gravity.</p>"},{"location":"OtherLocomotiveForces/#example-1-emd-f7","title":"Example #1: EMD F7","text":"<p>The EMD F7-A weighs 230,000lbs. We know from the table above that the coefficient of rolling resistance for steel wheels on steel rails is around 0.0015. So let's do the math:</p> <pre><code>Rolling Resistance = 0.0015 * 230,000lbs\n                   = 345lbs\n</code></pre> <p>So at any speed, a force of 345lbs is acting to stop the rolling of an EMD F7-A.</p>"},{"location":"OtherLocomotiveForces/#example-2-loaded-boxcar","title":"Example #2: Loaded Boxcar","text":"<p>According to Union Pacific, the total weight of a loaded boxcar is between 263,000 and 286,000lbs. Let's assume ours is in the middle and weighs 270,000lbs. The boxcar has steel wheels, and will roll on steel rail, so again we'll use 0.0015 as the coefficient of rolling resistance.</p> <pre><code>Rolling Resistance = 0.0015 * 270,000lbs\n                   = 405lbs\n</code></pre> <p>So at any speed, a loaded Union Pacific boxcar has a force of 405lbs acting to slow down/stop it.</p>"},{"location":"OtherLocomotiveForces/#grade-forces","title":"Grade Forces","text":"<p>Up until this point, we've been assuming that trains all operate on perfectly flat, level track. Of course we know that's not the case. There are hills all over the place in the real world. So how do we account for that?</p> <p>Simple: For every ton of train weight on a 1% grade a force of 20 pounds is acting to roll the train down the hill.</p> <p> Image Credit: Al Krug</p> <p>So for a 1% grade, convert your train weight to tons (2000lbs = 1 ton) and multiply by 20. For other grades, use the following logic:</p> <p>For every ton of train weight on a 1% grade, a force of 20 pounds is acting to roll the train down the hill. Therefore, for every ton of train weight on a 2% grade, a force of 40lbs is acting to roll the train down the hill.</p> <p>Using the logic/math above, you can calculate the pull of a grade on any train just by knowing the train's weight and the grade it's on (1%, 2%, etc).</p> <p>That's all for this page, in the next chapter I'll discuss summing up these forces to find acceleration/speed of the train.</p>"},{"location":"TheBasics/","title":"Parts of a Locomotive","text":""},{"location":"TheBasics/#introduction-to-the-f7","title":"Introduction to the F7","text":"<p>For the purposes of this guide, we will be working with an F7-A, a very popular locomotive built by EMD around 1950. There may be a few other locomotives used as examples, but the F7-A will be the primary focus.</p> <p></p> <p>Above: EMD F7-A #165A and an F7-B lead a CB&amp;Q train through Galesburg</p> <p>More information on the F7:</p> <ul> <li>This guide's \"Valuable Values\" page, which includes many specifications for the locomotive</li> <li>The original EMD Operator's Manual</li> <li>The locomotive's data sheet (courtesy of thedieselshop.us)</li> </ul>"},{"location":"TheBasics/#drivetrain","title":"Drivetrain","text":"<p>A diesel-electric locomotive is essentially an electric locomotive with a huge diesel generator on-board. The diesel engine, called the prime mover, turns a generator (or an alternator, in a newer AC locomotive), which creates electricity. This electricity is used to power the traction motors, which are mechanically connected to the wheels by way of a simple gear system.</p>"},{"location":"TheBasics/#key-parts","title":"Key Parts:","text":"<ul> <li> <p>Prime Mover: The diesel engine which powers the locomotive's generator or alternator.</p> <ul> <li> <p>The F7's prime mover is an EMD 16-567B, a two-stroke V16 diesel.</p> </li> <li> <p> By PanzerschreckLeopard - Own work, CC BY-SA 3.0, https://commons.wikimedia.org/w/index.php?curid=33245679</p> </li> <li>Generator: Turned by the prime mover to  generate electricity on DC locomotives, such as the F7. Typically, these are 600V generators.</li> <li>Alternator: Turned by the prime mover to generate electricity on AC locomotives, such as the newer GE ES44AC</li> <li>Traction Motors: Motors in the trucks which use electricity from the generator or alternator to rotate the wheels. In DC locomotives, these are typically 600V DC motors. Most newer locomotives, such as the newer GE ES44AC use AC traction motors due to their greater efficiency.</li> </ul> </li> </ul> <p></p> <p>Above: A typical traction motor removed from its truck</p> <p>These are the key parts of the powertrain in a typical diesel-electric locomotive. We will cover braking later on, as brake equipment gets very complex. Now let's move on to the controls.</p>"},{"location":"TheBasics/#engine-controlsindicators","title":"Engine Controls/Indicators","text":"<ul> <li> <p>Throttle: This is different from the throttle in an automobile in that it only has 9 positions, counting 0 (idle). These positions are referred to as IDLE, and RUN1 through RUN8, with RUN8 being the maximum power output the locomotive is capable of.</p> </li> <li> <p>Ammeter/Load Indicator: This is a gauge that measures the electrical current (in amps) being used by the traction motors of the locomotive. It is used by the engineer as a rough estimate of the load on the locomotive. A photo of the ammeter in an F7 can be found in the operator's manual.</p> </li> <li> <p>Speedometer: The look of a locomotive speedometer can vary widely depending on its age, but they all perform the same function. The F7 has a Barco Speed Recorder, while newer locomotives may be equipped with a digital speedometer like this one.</p> </li> </ul> <p>That's all for this chapter. Move on to \"Horsepower and Tractive Effort\" for a start into the physics behind the powertrain!</p>"},{"location":"ValuableValues/","title":"Valuable Values","text":""},{"location":"ValuableValues/#introduction","title":"Introduction","text":"<p>This page serves half of this entire guide's purpose. As I said in the author's note at the beginning, one of my goals with this guide is to make hard-to-find numbers/formulas easy to find. I've spent countless hours searching for obscure formulas, reservoir dimensions, pipe diameters, operating pressures, and other important numbers that nobody seems to have. Consequently, I've gathered all of these values in one central location to save everyone else the trouble.</p>"},{"location":"ValuableValues/#formulas","title":"Formulas","text":"<ul> <li>Tractive Effort: T = 2650 * (nP/V) Source<ul> <li>Where T is Tractive Effort in Newtons </li> <li>n is an efficiency coefficient (for the F7-A it is ~.85)</li> <li>P is the output horsepower</li> <li>V is the velocity in km/hr </li> </ul> </li> </ul>"},{"location":"ValuableValues/#general-pneumatic-equipment","title":"General Pneumatic Equipment","text":"<ul> <li>Main Air Reservoir Volume<ul> <li>EMD F7-A : 46.7882 cubic feet</li> </ul> </li> <li>Main Air Reservoir, Compressor Cutoff Switch Pressures (Typical)<ul> <li>Upper Limit: 140psi</li> <li>Lower Limit: 128psi</li> </ul> </li> </ul>"},{"location":"ValuableValues/#westinghouse-brake-system-equipment","title":"Westinghouse Brake System Equipment","text":"<ul> <li>Train Brake Pipe<ul> <li>90psi to 120psi typical pressure, set by the feed valve</li> <li>1 1/4 in. diameter</li> <li>Brake signals normally travel at ~500ft/sec</li> <li>Emergency brake applications travel at ~900ft/sec</li> <li>~50ft of pipe per car (derived algebraically)</li> <li>Approx. 3.3 gallons of pipe capacity per car</li> </ul> </li> <li>Auxiliary Reservoir<ul> <li>2500 cubic inches (10.5 gallons)</li> <li>Air in this reservoir is directed, by the control valve, into the brake cylinders during a service brake application.</li> </ul> </li> <li>Emergency Reservoir<ul> <li>3500 cubic inches (15.5 gallons)</li> <li>During emergency brake applications, this reservoir combines the auxiliary reservoir to give an increase in brake cylinder pressure. Also, during release of the brakes, this reservoir helps recharge the auxiliary reservoir or the brake pipe depending on the type of control valve used.</li> </ul> </li> <li>Brake Cylinder<ul> <li>630 cubic inches (2.7 gallons)</li> </ul> </li> <li>Equalizing Reservoir<ul> <li>220 cubic inches (approx. 3 quarts)</li> </ul> </li> </ul>"}]}